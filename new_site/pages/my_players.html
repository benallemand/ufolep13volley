<div class="panel panel-primary" id="players">
    <div class="panel-heading"><h1 class="panel-title">Joueurs</h1>
    </div>
    <label>Recherche: <input ng-model="search.$"></label>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Photo</th>
            <th>Prénom</th>
            <th>Nom</th>
            <th>Numéro de licence</th>
            <th>Capitaine</th>
            <th>Responsable</th>
            <th>Suppléant</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="x in players | filter:search">
            <td><img height="100px" src="/{{ x.path_photo }}"/></td>
            <td ng-class="x.est_actif == '1' ? '' : 'alert alert-danger'">{{ x.prenom }}</td>
            <td ng-class="x.est_actif == '1' ? '' : 'alert alert-danger'">{{ x.nom }}</td>
            <td>{{ x.num_licence }}</td>
            <td ng-class="x.is_captain == '1' ? 'alert alert-success' : ''"></td>
            <td ng-class="x.is_leader == '1' ? 'alert alert-success' : ''"></td>
            <td ng-class="x.is_vice_leader == '1' ? 'alert alert-success' : ''"></td>
            <td>
                <form ng-submit="removePlayerFromMyTeam(x.id)">
                    <button type="submit" class="btn btn-sm btn-danger">
                        <span class="glyphicon glyphicon-remove"></span> Enlever de mon équipe
                    </button>
                </form>
                <form ng-submit="updateMyTeamLeader(x.id)">
                    <button type="submit" class="btn btn-sm btn-success">
                        <span class="glyphicon glyphicon-user"></span> Passer responsable
                    </button>
                </form>
                <form ng-submit="updateMyTeamViceLeader(x.id)">
                    <button type="submit" class="btn btn-sm btn-info">
                        <span></span> Passer responsable suppléant
                    </button>
                </form>
                <form ng-submit="updateMyTeamCaptain(x.id)">
                    <button type="submit" class="btn btn-sm btn-info">
                        <span></span> Passer capitaine
                    </button>
                </form>
            </td>

        </tr>
        </tbody>
    </table>
</div>
<div class="panel panel-primary" id="add_existing_player">
    <div class="panel-heading"><h1 class="panel-title">Ajouter un joueur existant</h1>
    </div>
    <form role="form" ng-submit="addPlayerToTeam()">
        <div class="form-group">
            <label class="col-sm-2 control-label" for="existing_player">Joueur</label>
            <div class="col-sm-10">
                <input id="existing_player" type="text" ng-model="existingPlayer.id_joueur"
                       uib-typeahead="existing_player.id as existing_player.full_name for existing_player in all_players | filter:$viewValue | limitTo:8"
                       class="form-control"
                       typeahead-input-formatter="formatPlayerLabel($model)"
                />
            </div>
        </div>
        <button type="submit" class="btn btn-default">Sauver</button>
    </form>
</div>
<div class="panel panel-primary" id="add_new_player">
    <div class="panel-heading"><h1 class="panel-title">Créer un joueur</h1>
    </div>
    <form class="form-horizontal" role="form">
        <div class="form-group">
            <label class="col-sm-2 control-label" for="prenom">Prénom</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="prenom" name="prenom"
                       ng-model="newPlayer.prenom"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="nom">Nom</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="nom" name="nom"
                       ng-model="newPlayer.nom"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="num_licence">Numéro de licence</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="num_licence" name="num_licence"
                       ng-model="newPlayer.num_licence"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="sexe">Sexe</label>
            <div class="col-sm-10">
                <select class="form-control" id="sexe" name="sexe" ng-model="newPlayer.sexe">
                    <option value="M">Masculin</option>
                    <option value="F">Féminin</option>
                </select></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="departement_affiliation">Département d'affiliation</label>
            <div class="col-sm-10">
                <select class="form-control" id="departement_affiliation" name="departement_affiliation"
                        ng-model="newPlayer.departement_affiliation">
                    <option value="13">Bouches du Rhône</option>
                    <option value="84">Vaucluse</option>
                    <option value="83">Var</option>
                    <option value="0">Autre</option>
                </select></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="existing_club">Club</label>
            <div class="col-sm-10">
                <input id="existing_club" type="text" ng-model="newPlayer.id_club"
                       uib-typeahead="existing_club.id as existing_club.nom for existing_club in all_clubs | filter:$viewValue | limitTo:8"
                       class="form-control"
                       typeahead-input-formatter="formatClubLabel($model)"
                />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" class="c-input c-checkbox">Diffusion photo autorisée</label>
            <div class="col-sm-10">
                <input class="form-control" name="show_photo" type="checkbox" ng-true-value="'on'"
                       ng-false-value="'off'"
                       ng-model="newPlayer.show_photo">
                <span class="c-indicator"></span></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="id_photo">Photo</label>
            <div class="col-sm-10">
                <input class="form-control-file" type="file" id="id_photo" aria-describedby="fileHelp" file-model="newPlayer.photo">
                <small id="fileHelp" class="form-text text-muted">La photo du joueur doit être au format JPG. Essayer
                    d'utiliser une photo peu volumineuse (moins de 1Mo)
                </small>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="telephone">Numéro de téléphone</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="telephone" name="telephone"
                       ng-model="newPlayer.telephone"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="email">Adresse email</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="email" name="email"
                       ng-model="newPlayer.email"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="telephone2">Numéro de téléphone secondaire</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="telephone2" name="telephone2"
                       ng-model="newPlayer.telephone2"></div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="email2">Adresse email secondaire</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" id="email2" name="email2"
                       ng-model="newPlayer.email2"></div>
        </div>
        <button type="submit" class="btn btn-default" ng-click="Submit()">Sauver</button>
    </form>
</div>
<div class="alert alert-danger" role="alert" ng-hide="(myTxt+ '').length <= 0">
    {{myTxt}}
</div>
